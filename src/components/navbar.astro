---
import { dictionary } from '@/i18n/dictionary'
import { type Language } from '@/i18n/i18n'
import { ChatToggle, ThemeToggle } from './navbar.client'

export interface Props {
	lang: Language
}

const { lang }: Props = Astro.props
const t = dictionary[lang]

const navItems = [
	{ label: t['home'], href: `/${lang}` },
	{ label: t['projects'], href: `/${lang}/projects` },
	{ label: t['blog'], href: `/${lang}/blog` },
	{ label: t['contact'], href: `/${lang}/contact` },
]
---

<header class='sticky top-0 z-50 bg-background/75 backdrop-blur-sm'>
	<div class='mx-auto max-w-3xl px-8 py-6'>
		<nav class='flex items-center justify-between'>
			<ul class='flex gap-4 sm:gap-8'>
				{
					navItems.map((nav) => (
						<li
							class={
								Astro.url.pathname === nav.href
									? 'underline font-semibold'
									: 'hover:text-foreground hover:underline'
							}
						>
							<a href={nav.href}>{nav.label}</a>
						</li>
					))
				}
			</ul>
			<div class='flex gap-2 sm:gap-4'>
				<ChatToggle client:idle />
				<ThemeToggle client:idle />
			</div>
		</nav>
	</div>
</header>
