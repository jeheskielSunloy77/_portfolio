---
import { FULL_NAME } from '@/lib/constants'

export interface Props {
	title: string
	description: string
	canonical?: string
	ogImage?: string
	ogType?: 'website' | 'article'
	twitterCard?: 'summary' | 'summary_large_image'
	keywords?: string
	publishedTime?: Date
	modifiedTime?: Date
	author?: string
	articleSection?: string
	articleTags?: string[]
}

const {
	title,
	description,
	canonical,
	ogImage = '/images/default-og.jpg',
	ogType = 'article',
	twitterCard = 'summary_large_image',
	keywords = 'blog, portfolio, projects, tech, programming, development, web development, mobile development, software engineering',
	publishedTime,
	modifiedTime,
	author = FULL_NAME,
	articleSection,
	articleTags = [],
} = Astro.props

const canonicalURL = canonical || new URL(Astro.url.pathname, Astro.site)
const fullOgImage = new URL(ogImage, Astro.site)
---

<!-- Primary Meta Tags -->
<title>
	{title === FULL_NAME ? title : `${title} | ${FULL_NAME}`}
</title>
<meta name='title' content={title} />
<meta name='description' content={description} />
{keywords && <meta name='keywords' content={keywords} />}
<meta name='author' content={author} />
<meta name='robots' content='index, follow' />
<meta name='language' content='English' />
<meta name='revisit-after' content='7 days' />

<!-- Canonical URL -->
<link rel='canonical' href={canonicalURL} />

<!-- Open Graph / Facebook -->
<meta property='og:type' content={ogType} />
<meta property='og:url' content={canonicalURL} />
<meta property='og:title' content={title} />
<meta property='og:description' content={description} />
<meta property='og:image' content={fullOgImage} />
<meta property='og:site_name' content='Your Blog Name' />
{author && <meta property='og:article:author' content={author} />}
{
	publishedTime && (
		<meta
			property='og:article:published_time'
			content={publishedTime.toISOString()}
		/>
	)
}
{
	modifiedTime && (
		<meta
			property='og:article:modified_time'
			content={modifiedTime.toISOString()}
		/>
	)
}
{
	articleSection && (
		<meta property='og:article:section' content={articleSection} />
	)
}
{articleTags.map((tag) => <meta property='og:article:tag' content={tag} />)}

<!-- Twitter -->
<meta property='twitter:card' content={twitterCard} />
<meta property='twitter:url' content={canonicalURL} />
<meta property='twitter:title' content={title} />
<meta property='twitter:description' content={description} />
<meta property='twitter:image' content={fullOgImage} />
<meta name='twitter:creator' content='@yourtwitterhandle' />

<!-- Favicon -->
<link rel='icon' type='image/svg+xml' href='/favicon.svg' />
<link rel='apple-touch-icon' sizes='180x180' href='/apple-touch-icon.png' />
<link rel='icon' type='image/png' sizes='32x32' href='/favicon-32x32.png' />
<link rel='icon' type='image/png' sizes='16x16' href='/favicon-16x16.png' />

<!-- Additional SEO optimizations -->
<meta name='theme-color' content='#000000' />
<meta name='msapplication-TileColor' content='#000000' />
